(this["webpackJsonpreact-minimal"]=this["webpackJsonpreact-minimal"]||[]).push([[0],{28:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),c=a.n(i),l=a(16),o=a(1),s=a(8),m=a.n(s),u=a(11),p=a(12),d=a(13),f=a(18),g=a(17),E=a(3),v=function(e){var t=e.main,a=e.extras,n=e.title;return r.a.createElement("div",{className:"Basic"},r.a.createElement("div",{className:"hint"},"[Basic Page]"),r.a.createElement("h1",null,n||e.metadata["@name"]),r.a.createElement("main",null,r.a.createElement("div",{className:"hint"},"[Main Area]"),t&&r.a.createElement(E.EditableArea,{className:"Area",content:t})),r.a.createElement("div",{className:"Extras"},r.a.createElement("div",{className:"hint"},"[Sercondary Area]"),a&&r.a.createElement(E.EditableArea,{className:"Area",content:a})))},h=function(e){var t=e.main,a=e.title;return r.a.createElement("div",{className:"Contact"},r.a.createElement("h2",{className:"hint"},"[Contact Page]"),r.a.createElement("div",{className:"box",style:{background:"#eaf7f5",padding:"20px"}},r.a.createElement("h1",null,a||"Nulla vitae elit libero, a pharetra augue.")),t&&r.a.createElement(E.EditableArea,{content:t}))},w=function(e){return r.a.createElement("h2",{className:"Headline"},e.text)},x=function(e){return r.a.createElement("img",{className:"Image",src:""+e.image["@link"],alt:"Etiam Purus"})},b=function(e){return r.a.createElement("p",{className:"Paragraph",dangerouslySetInnerHTML:{__html:e.richText}})},N=a(14),P={componentMappings:{"react-minimal-lm:pages/basic":v,"react-minimal-lm:pages/contact":h,"spa-lm:components/headline":w,"spa-lm:components/image":x,"spa-lm:components/paragraph":b,"spa-lm:components/expander":function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.state={isCollapsed:!0},n.toggle=n.toggle.bind(Object(N.a)(n)),n}return Object(d.a)(a,[{key:"toggle",value:function(e){this.setState({isCollapsed:!this.state.isCollapsed}),e.preventDefault()}},{key:"componentDidUpdate",value:function(){E.EditorContextHelper.refresh()}},{key:"render",value:function(){var e=this.props.expanderItems;return r.a.createElement("div",{className:"expander"},r.a.createElement("div",{onClick:this.toggle,className:this.state.isCollapsed?"open expanderHeader":"closed expanderHeader"},"Expander",r.a.createElement("svg",{className:"expanderIcon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},r.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))),!this.state.isCollapsed&&r.a.createElement("div",null,r.a.createElement("div",{className:"hint"},"[EXPANDER OPENED]"),e&&r.a.createElement(E.EditableArea,{content:e,parentTemplateId:this.props.metadata["mgnl:template"]})))}}]),a}(r.a.Component),"spa-lm:components/list":function(e){var t=e.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hint"},"[LIST]"),r.a.createElement("ul",{className:"List"},t&&r.a.createElement(E.EditableArea,{content:t,parentTemplateId:e.metadata["mgnl:template"]})))},"spa-lm:components/listItem":function(e){return r.a.createElement("li",{className:"Item"},e.text)}}};function y(){return""+(Boolean("true")?"/magnoliaAuthor":"/magnoliaPublic")}function k(){return"en de".split(" ")}function O(e,t){return e.replace(new RegExp("/"+t+"($|/)"),"/")}function j(){for(var e=k(),t=0;t<e.length;t++){var a=e[t];if(new RegExp("/"+a+"($|/)").test(window.location.pathname))return a}return e[0]}function C(){var e=k(),t=window.location.pathname;if(t.indexOf("/react-minimal")>-1)return t.replace(new RegExp("/react-minimal.*"),"")+"/react-minimal";var a=j();return e[0]===a?"/":"/"+a}function A(e){return new URLSearchParams(e).get("mgnlVersion")}var I=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.getPagePath=function(){var e=k(),t=j(),a="/react-minimal"+window.location.pathname.replace(new RegExp("(.*/react-minimal|.html)","g"),"");return t!==e[0]&&(a=O(a,t),a+="?lang="+t),a},e.loadPage=Object(u.a)(m.a.mark((function t(){var a,n,r,i,c,l,o,s,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.pathname!==window.location.pathname){t.next=2;break}return t.abrupt("return");case 2:return a=y(),n=e.getPagePath(),console.log("pagePath:"+n),r=A(window.location.href),i="".concat(a).concat(r?"/.rest/preview/pages/v1":"/.rest/delivery/pages/v1").concat(n).concat(r?"?version=".concat(r):""),t.next=9,fetch(i);case 9:return c=t.sent,t.next=12,c.json();case 12:if(l=t.sent,console.log("page content: ",l),o=l["mgnl:template"],console.log("templateId:",o),s=null,!E.EditorContextHelper.inEditor()){t.next=25;break}return t.next=20,fetch(a+"/.rest/template-definitions/v1/"+o);case 20:return u=t.sent,t.next=23,u.json();case 23:s=t.sent,console.log("definition:",s);case 25:e.setState({init:!0,content:l,templateDefinitions:s,pathname:window.location.pathname});case 26:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"inEditorPreview",value:function(){var e=window.location.href.indexOf("mgnlPreview=true")>0;return console.log("inEditorPreview:"+e),E.EditorContextHelper.inEditor()&&e}},{key:"componentDidMount",value:function(){this.loadPage()}},{key:"componentDidUpdate",value:function(){this.loadPage()}},{key:"render",value:function(){return this.state.init?(console.log("config:",P),r.a.createElement(E.EditablePage,{templateDefinitions:this.state.templateDefinitions||{},content:this.state.content,config:P})):r.a.createElement("p",null,"NO PAGE.")}}]),a}(r.a.Component),D=a(26),R=a(27);function H(){var e=j();return r.a.createElement("div",{className:"languages"},k().map((function(t){return r.a.createElement("span",{key:"lang-".concat(t),"data-active":e===t,onClick:function(){return function(e){var t=k(),a=window.location.pathname;a=O(a,j()),t[0]!==e&&(a=a.indexOf("/react-minimal")>-1?a.replace(new RegExp("/react-minimal"),"/"+e+"/react-minimal"):"/"+e+a),window.location.href=window.location.origin+a+window.location.search}(t)}},t)})))}var S=function(){var e=r.a.useState([]),t=Object(R.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var t,a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y(),a=t+"/.rest/delivery/pagenav/v1/react-minimal",console.log("NAV URL:"+a),e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,c=i["@nodes"].map((function(e){return i[e]})),n([i].concat(Object(D.a)(c)));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.length<1&&function(){e.apply(this,arguments)}()}),[a]),a?r.a.createElement("nav",{className:"Navigation"},a.map((function(e){return r.a.createElement(l.b,{activeClassName:"active",key:e["@id"],to:e["@path"].replace("/react-minimal","")},e.navigationTitle||e.title||e["@name"])})),H()):r.a.createElement("div",null)};a(40);var L=function(){return r.a.createElement(l.a,{basename:C()},r.a.createElement("header",null,r.a.createElement(S,null)),r.a.createElement("div",{className:"container"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:I}))),r.a.createElement("footer",null,"Integer posuere erat a ante venenatis dapibus posuere velit aliquet.",r.a.createElement("br",null),"Copyright \xa9 2020"))};c.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.18941e0f.chunk.js.map